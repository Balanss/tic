import{r as a,a as z,c as _,d as n,b as t,j as r,e as A,u as ie,F as $,B as re,G as P}from"./index-3e326eaa.js";function oe(){const[e,q]=a.useState("");a.useState("");const[o,M]=a.useState([]),[l,i]=a.useState([]),[b,j]=a.useState([]),[N,E]=a.useState([]),[u,p]=a.useState([]),[g,I]=a.useState([]),[f,U]=a.useState([]),[w,F]=a.useState([]),[O,k]=a.useState([]),[T,C]=a.useState([]);a.useEffect(()=>{const R=z(A,"game"+e,"game"+e);return _(R,s=>{if(s.exists()){const W=s.data().setOne||[],B=s.data().setTwo||[],H=s.data().setThree||[],c=s.data().setFour||[],L=s.data().setFive||[],J=s.data().setSix||[],K=s.data().setSeven||[],Q=s.data().setEight||[],V=s.data().setNine||[],Y=s.data().Disabled||[];M(W),i(B),j(H),E(c),p(L),I(J),U(K),F(Q),k(V),C(Y)}})},[e]),a.useEffect(()=>{q(localStorage.getItem("name"))},[e]);const X=o.one+l.two+b.three,D=N.four+u.five+g.six,G=f.seven+w.eight+O.nine,y=o.one+u.five+O.nine,S=b.three+u.five+f.seven,d=o.one+N.four+f.seven,x=l.two+u.five+w.eight,m=b.three+g.six+O.nine,h=o.one+l.two+b.three+N.four+u.five+g.six+f.seven+w.eight+O.nine,v=z(A,"game"+e,"game"+e);if(X==="XXX"||X==="OOO")return n(v,{Disabled:{Disabled:!0}}),t("div",{className:"windiv",children:["  ",t("p",{className:"wintitle",children:[" ",X==="OOO"?"U LOSE":"U WIN !!"," "]})," "]});if(D==="XXX"||D==="OOO")return n(v,{Disabled:{Disabled:!0}}),t("div",{className:"windiv",children:["  ",t("p",{className:"wintitle",children:[" ",D==="OOO"?"U LOSE":"U WIN !!"," "]})," "]});if(G==="XXX"||G==="OOO")return n(v,{Disabled:{Disabled:!0}}),t("div",{className:"windiv",children:[t("p",{className:"wintitle",children:[" ",G==="OOO"?"U LOSE":"U WIN !!"," "]}),"  "]});if(y==="XXX"||y==="OOO")return n(v,{Disabled:{Disabled:!0}}),t("div",{className:"windiv",children:[" ",t("p",{className:"wintitle",children:[" ",y==="OOO"?"U LOSE":"U WIN !!"," "]})," "]});if(S==="XXX"||S==="OOO")return n(v,{Disabled:{Disabled:!0}}),t("div",{className:"windiv",children:[" ",t("p",{className:"wintitle",children:[" ",S==="OOO"?"U LOSE":"U WIN !!"," "]})," "]});if(d==="XXX"||d==="OOO")return n(v,{Disabled:{Disabled:!0}}),t("div",{className:"windiv",children:[" ",t("p",{className:"wintitle",children:[" ",d==="OOO"?"U LOSE":"U WIN !!"," "]}),"  "]});if(x==="XXX"||x==="OOO")return n(v,{Disabled:{Disabled:!0}}),t("div",{className:"windiv",children:[" ",t("p",{className:"wintitle",children:[" ",x==="OOO"?"U LOSE":"U WIN !!"," "]}),"  "]});if(m==="XXX"||m==="OOO")return n(v,{Disabled:{Disabled:!0}}),t("div",{className:"windiv",children:[" ",t("p",{className:"wintitle",children:[" ",m==="OOO"?"U LOSE":"U WIN !!"," "]})," "]});if(h.length===9&&o.one!=="")return t("div",{className:"windiv",children:[" ",r("p",{className:"wintitle",children:" DRAW "})," "]})}function de(){const[e,q]=a.useState(localStorage.getItem("name")),[o,M]=a.useState([]),[l,i]=a.useState([]),[b,j]=a.useState([]),[N,E]=a.useState([]),[u,p]=a.useState([]),[g,I]=a.useState([]),[f,U]=a.useState([]),[w,F]=a.useState([]),[O,k]=a.useState([]);a.useEffect(()=>{const x=z(A,"game"+e,"game"+e);return _(x,h=>{if(h.exists()){const v=h.data().setOne||[],R=h.data().setTwo||[],Z=h.data().setThree||[],s=h.data().setFour||[],W=h.data().setFive||[],B=h.data().setSix||[],H=h.data().setSeven||[],c=h.data().setEight||[],L=h.data().setNine||[];M(v),i(R),j(Z),E(s),p(W),I(B),U(H),F(c),k(L)}})},[]);const T=o.one+l.two+b.three,C=N.four+u.five+g.six,X=f.seven+w.eight+O.nine,D=o.one+u.five+O.nine,G=b.three+u.five+f.seven,y=o.one+N.four+f.seven,S=l.two+u.five+w.eight,d=b.three+g.six+O.nine;if(T==="XXX"||T==="OOO")return t("div",{className:"wincon1",children:[" ",r("hr",{className:"winhr"})," "]});if(C==="XXX"||C==="OOO")return t("div",{className:"wincon2",children:[" ",r("hr",{className:"winhr"})," "]});if(X==="XXX"||X==="OOO")return t("div",{className:"wincon3",children:[r("hr",{className:"winhr"})," "]});if(D==="XXX"||D==="OOO")return t("div",{className:"wincon4",children:[r("hr",{className:"hr-dia"})," "]});if(G==="XXX"||G==="OOO")return t("div",{className:"wincon5",children:[r("hr",{className:"hr-dia"})," "]});if(y==="XXX"||y==="OOO")return t("div",{className:"wincon6",children:[" ",r("hr",{className:"winhr"})," "]});if(S==="XXX"||S==="OOO")return t("div",{className:"wincon7",children:[" ",r("hr",{className:"winhr"})," "]});if(d==="XXX"||d==="OOO")return t("div",{className:"wincon8",children:[r("hr",{className:"winhr"})," "]})}function ce(){const[e,q]=a.useState(localStorage.getItem("name")),[o,M]=a.useState("X"),[l,i]=a.useState(-1),[b,j]=a.useState([]),[N,E]=a.useState([]),[u,p]=a.useState([]),[g,I]=a.useState([]),[f,U]=a.useState([]),[w,F]=a.useState([]),[O,k]=a.useState([]),[T,C]=a.useState([]),[X,D]=a.useState([]),G=ie(),[y,S]=a.useState(),[d,x]=a.useState([]),[m,h]=a.useState([]),[v,R]=a.useState(Math.floor(Math.random()*2+1));a.useEffect(()=>{const B=z(A,"game"+e,"game"+e);return _(B,c=>{if(c.exists()){const L=c.data().setOne||[],J=c.data().setTwo||[],K=c.data().setThree||[],Q=c.data().setFour||[],V=c.data().setFive||[],Y=c.data().setSix||[],ee=c.data().setSeven||[],te=c.data().setEight||[],se=c.data().setNine||[],ae=c.data().Disabled||[],ne=c.data().join||[];j(L),E(J),p(K),I(Q),U(V),F(Y),k(ee),C(te),D(se),x(ae),h(ne),S(!1)}else S(!0)})},[e]);function Z(){R(Math.floor(Math.random()*2+1)),n(s,{setOne:{one:"",id:1}}),n(s,{setTwo:{two:"",id:2}}),n(s,{setThree:{three:"",id:3}}),n(s,{setFour:{four:"",id:4}}),n(s,{setFive:{five:"",id:5}}),n(s,{setSix:{six:"",id:6}}),n(s,{setSeven:{seven:"",id:7}}),n(s,{setEight:{eight:"",id:8}}),n(s,{setNine:{nine:"",id:9}}),n(s,{Disabled:{Disabled:!1}}),n(s,{join:{playerTurn:v,friend:"game"+e,host:e,joined:!0,lobby:"game"+e}}),i(0)}const s=z(A,"game"+e,"game"+e);function W(B){B.preventDefault(),b.id===l&&b.one===""&&m.playerTurn===1&&(n(s,{setOne:{one:o,id:1}}),n(s,{join:{playerTurn:2,friend:"game"+e,host:e,joined:!0,lobby:"game"+e}}),i(0)),N.id===l&&N.two===""&&m.playerTurn===1&&(n(s,{setTwo:{two:o,id:2}}),n(s,{join:{playerTurn:2,friend:"game"+e,host:e,joined:!0,lobby:"game"+e}}),i(0)),u.id===l&&u.three===""&&m.playerTurn===1&&(n(s,{setThree:{three:o,id:3}}),n(s,{join:{playerTurn:2,friend:"game"+e,host:e,joined:!0,lobby:"game"+e}}),i(0)),g.id===l&&g.four===""&&m.playerTurn===1&&(n(s,{setFour:{four:o,id:4}}),n(s,{join:{playerTurn:2,friend:"game"+e,host:e,joined:!0,lobby:"game"+e}}),i(0)),f.id===l&&f.five===""&&m.playerTurn===1&&(n(s,{setFive:{five:o,id:5}}),n(s,{join:{playerTurn:2,friend:"game"+e,host:e,joined:!0,lobby:"game"+e}}),i(0)),w.id===l&&w.six===""&&m.playerTurn===1&&(n(s,{setSix:{six:o,id:6}}),n(s,{join:{playerTurn:2,friend:"game"+e,host:e,joined:!0,lobby:"game"+e}}),i(0)),O.id===l&&O.seven===""&&m.playerTurn===1&&(n(s,{setSeven:{seven:o,id:7}}),n(s,{join:{playerTurn:2,friend:"game"+e,host:e,joined:!0,lobby:"game"+e}}),i(0)),T.id===l&&T.eight===""&&m.playerTurn===1&&(n(s,{setEight:{eight:o,id:8}}),n(s,{join:{playerTurn:2,friend:"game"+e,host:e,joined:!0,lobby:"game"+e}}),i(0)),X.id===l&&X.nine===""&&m.playerTurn===1&&(n(s,{setNine:{nine:o,id:9}}),n(s,{join:{playerTurn:2,friend:"game"+e,host:e,joined:!0,lobby:"game"+e}}),i(0))}return t($,{children:[y===!0&&t("div",{children:[r("h2",{children:" No lobby found.Returning to main menu "}),setTimeout(()=>{G("/")},3e3)]}),y===!1&&t($,{children:[r("div",{className:"entireboard",style:d.Disabled===!0?{display:"none"}:{display:"block"},children:r("form",{onSubmit:W,children:t("div",{children:[" ",t(re,{children:[t("div",{children:[r(oe,{})," "]}),t("h2",{children:[" ",m.playerTurn===1?"your turn":"friend turn"," "]}),t(P,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},className:"grid",children:[r(P,{item:!0,xs:12,children:t("div",{className:"btn-div",children:[r(de,{}),r("hr",{className:"rightline"}),r("hr",{className:"leftline"}),t("button",{className:"board",disabled:d.Disabled,onClick:()=>{i(b.id)},children:[" ",b.one," "]}),t("button",{className:"board",disabled:d.Disabled,onClick:()=>{i(N.id)},children:[" ",N.two,"  "]}),t("button",{className:"board",disabled:d.Disabled,onClick:()=>{i(u.id)},children:[" ",u.three," "]}),"   "]})}),r(P,{item:!0,xs:12,children:t("div",{className:"btn-div",children:[r("hr",{style:{marginTop:"-130px"},className:"hrfield"}),r("hr",{style:{marginTop:"120px"},className:"hrfield"}),t("button",{className:"board",disabled:d.Disabled,onClick:()=>{i(g.id)},children:[" ",g.four," "]}),t("button",{className:"board",disabled:d.Disabled,onClick:()=>{i(f.id)},children:[" ",f.five," "]}),t("button",{className:"board",disabled:d.Disabled,onClick:()=>{i(w.id)},children:[" ",w.six," "]})," "]})}),r(P,{item:!0,xs:12,children:t("div",{className:"btn-div",children:[t("button",{className:"board",disabled:d.Disabled,onClick:()=>{i(O.id)},children:[" ",O.seven," "]}),t("button",{className:"board",disabled:d.Disabled,onClick:()=>{i(T.id)},children:[" ",T.eight," "]}),t("button",{className:"board",disabled:d.Disabled,onClick:()=>{i(X.id)},children:[" ",X.nine,"  "]})," "]})})]})]})]})})}),r("div",{className:"startandreset",children:r("button",{style:{width:"120px",marginBottom:"10px",marginTop:"10px"},className:"btnstart",onClick:Z,children:" Start Game "})})]})]})}export{ce as default};
